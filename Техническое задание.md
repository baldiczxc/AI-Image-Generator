# Техническое задание (ТЗ)
## Проект: Развертывание ИИ-модели для генерации изображений и мультимодальных функций на VPS для Telegram-бота

### Заказчик: LampaL  
### Исполнитель: goracevvladislav2  
### Бюджет: 5 000 рублей  
### Итог: исходный код на GitHub + инструкция по запуску

---

## 1. Цель проекта
Развернуть на VPS систему, позволяющую Telegram-боту:
- Генерировать изображения по текстовому описанию (text-to-image) через свою модель или через API популярных генераторов.
- Опционально: распознавать голосовые сообщения (speech-to-text).
- Опционально: генерировать видео по тексту (text-to-video), если возможно найти подходящий бесплатный/условно бесплатный API.
- Использовать резервные провайдеры (автоматическая смена API-ключа/провайдера при ошибке).
- Предоставить исходный код (Python) и ссылку на репозиторий GitHub.

## 2. Требования к функционалу

### 2.1 Генерация изображений (основной функционал)
- Возможность генерации изображений через:
  - Локальную модель (например, Hugging Face: flux, flux-pro, flux-dev, flux-schnell, sdxl-turbo, dall-e-3).
  - API популярных сервисов (dall-e, flux и др.) — через библиотеку, автоматически подбирающую рабочие API-ключи для обхода ограничений.
- При ошибке (например, блокировка ключа) — автоматический повтор через другого провайдера/ключ.
- Возможность выбора приоритетного провайдера (например, сначала использовать DALL-E, при ошибке — flux).

### 2.2 Голосовое сообщение → текст (опционально)
- Поддержка распознавания речи через OpenAI, Google, Яндекс или другие бесплатные/условно бесплатные сервисы.
- Возможность работы с частыми запросами (устойчивость к блокировкам/лимитам).
- Автоматический повтор через другого провайдера при ошибке.

### 2.3 Текст → видео (опционально)
- Реализация через бесплатный/условно бесплатный API, если таковой доступен через библиотеку или найденный сервис.
- При невозможности — описать ограничения в итоговой документации.

### 2.4 Интеграция с Telegram-ботом
- Код должен быть готов для интеграции с Telegram-ботом (отправка запросов, обработка сообщений, отправка результатов пользователю).
- При необходимости — предоставить шаблон основных функций для работы с ботом.

### 2.5 Распознавание изображений (опционально)
- Возможность распознавания изображений через условно бесплатные сервисы (например, Amazon AWS, Google Vision, Yandex Vision и др.).
- При невозможности — описать ограничения.

## 3. Требования к архитектуре и коду

- Язык: Python 3.x.
- Использование открытых библиотек и исходного кода (HuggingFace, Telebot, aiogram, requests и т.п.).
- Структура кода и файлы: README.md с инструкцией по запуску и настройке, requirements.txt для зависимостей.
- Код должен быть оформлен так, чтобы заказчик мог легко заменить или добавить провайдеров/ключи.
- Все действия с ключами и API должны быть вынесены в отдельный модуль/класс с возможностью расширения.
- Возможность логирования запросов и ошибок для отладки.

## 4. Принципы работы с API-ключами

- Использование библиотеки (или самописного решения), автоматически ищущей рабочие ключи (по примеру решения исполнителя, где бот работает 4 месяца без сбоев).
- При ошибке — автоматическая смена на следующего провайдера.
- Возможность добавить свои ключи вручную.
- Приоритеты провайдеров настраиваемые (например, сначала DALL-E, потом flux и т.д.).
- Описать ограничения по количеству запросов и "живучести" ключей.

## 5. Список поддерживаемых моделей/провайдеров

### Генерация изображений:
- flux (все версии), flux-pro, flux-dev, flux-schnell
- dall-e-3
- sdxl-turbo

### Текст → голос, голос → текст:
- OpenAI Whisper, Google Speech-to-Text, Яндекс SpeechKit (или аналогичные)

### Распознавание изображений:
- Amazon AWS Rekognition
- Google Vision
- Yandex Vision (или аналогичные)

### Генерация видео:
- Любые найденные бесплатные/условно бесплатные API, если возможно

## 6. Взаимодействие с заказчиком

- Заказчик предоставляет сценарии взаимодействия с ботом, если нужно что-то специфическое.
- Исполнитель предоставляет:
  - Исходный код.
  - Инструкцию по запуску.
  - Ссылку на GitHub-репозиторий.
  - Краткое описание всех подключённых сервисов и моделей.
  - Инструкцию по добавлению новых провайдеров и ключей.

## 7. Итоговые материалы

- Исходники на Python в виде отдельного проекта (GitHub).
- README.md с подробной инструкцией по развертыванию на VPS и настройке.
- requirements.txt для установки зависимостей.
- Пример .env или config-файла для хранения ключей.
- Документация по поддерживаемым функциям и описанием, как добавить новые провайдеры.
- Краткий FAQ по часто возникающим вопросам и ограничениями бесплатных ключей.

---

## 8. Прочее

- Все решения должны быть полностью легальны (open source, не взломанные ключи!).
- Заказчик самостоятельно решает вопросы с частыми сменами аккаунтов на сервисах с лимитами.
- Возможность расширения проекта (например, добавление новых моделей или мультимодальных функций).

---

**Требования могут быть скорректированы по согласованию с заказчиком в ходе реализации.**
